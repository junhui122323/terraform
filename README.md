# terraform
테라폼 공부

1. 내가 했던 실습, 두 가지 방식!
1) “main.tf 하나로 다 해보기” 실습
그냥 폴더 하나 파고, main.tf에 모든 리소스(서버, VPC, 보안그룹 등)를 한 방에 다 적었음!

변수, 데이터, 아웃풋까지 다 이 파일 안에서 해결.

상태 파일(tfstate)도 main.tf랑 같은 폴더에 자동으로 생김.

명령어도 폴더에서 바로 terraform init, plan, apply, destroy만 쭉쭉!

느낌:

“처음 배울 땐 이렇게 한 파일로 빠르게 실습하는 게 최고!”

근데 리소스 많아지면 정신없어지고, 협업엔 별로…

2) “aws_set/ 폴더에 역할별로 쪼개서” 실습
이번엔 aws_set/ 폴더 아래에 provider.tf, variables.tf, data.tf, vpc.tf, ec2.tf, acm.tf 등등
파일을 역할별로 쪼개서 관리!

예를 들면 vpc.tf엔 VPC만, ec2.tf엔 EC2만, variables.tf엔 변수만!

폴더 안에 있는 모든 .tf 파일이 “하나의 큰 설계도”처럼 같이 동작함.

상태 파일(tfstate)도 aws_set/ 폴더에 따로 생김.

느낌:

“실무에선 이렇게 쪼개서 관리해야 진짜 편하고, 팀원들이랑 같이 일하기도 좋아!”

각 파일에서 선언한 리소스, 변수, 데이터는 파일이 달라도 이름만 맞으면 서로 참조 가능!

2. main.tf 실습 vs aws_set/ 실습, 뭐가 다를까?
비교 포인트	main.tf 단일 파일 실습	aws_set/ 역할별 분리 실습
파일 구조	main.tf 하나로 올인원	여러 .tf 파일로 역할 분담
상태 파일 위치	main.tf와 같은 폴더	aws_set/ 폴더에 따로 생성
리소스 참조	main.tf 안에서만 참조	폴더 내면 파일 달라도 OK
실습/관리 방식	빠르게 실습, 초보용	실무 스타일, 협업/유지보수용
서로 참조 가능?	서로 완전 별개, 참조 불가	같은 폴더면 다 참조 가능
3. 실습하면서 느낀 꿀팁!
여러 .tf 파일로 쪼개도, 같은 폴더면 “한 덩어리 프로젝트”가 됨!

main.tf 실습이랑 aws_set/ 실습은 완전 별개라서,
서로 리소스/상태 파일/변수 참조 안 됨!

실무에선 파일을 역할별로 쪼개는 게 진짜 편함.
(나중에 코드 관리, 협업, 재사용성 다 좋아짐)

상태 파일(tfstate)은 폴더별로 따로 생기니까,
실습별로 인프라도 완전히 분리됨!

4. 실습 진행 순서, 진짜 현실 버전
폴더 만들고, 필요한 .tf 파일들 쪼개서 작성!

terraform init (초기화)

terraform plan (뭐가 바뀌는지 미리보기)

terraform apply (진짜로 인프라 생성!)

필요하면 terraform destroy (깔끔하게 삭제!)
